import { BotContext } from '../bot';
import { safeEditOrReply } from '../utils/safe-edit';

export const ratingInfoCommand = async (ctx: BotContext): Promise<void> => {
  try {
    // –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏ –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è
    let message1 = `üìä <b>–°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –∫–æ–º–∞–Ω–¥</b>\n\n`;

    message1 += `<b>üéØ –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å:</b>\n`;
    message1 += `–°–æ–∑–¥–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–µ—Å—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ 16 –∏–≥—Ä–æ–∫–æ–≤ (8 –Ω–∞ 8), –≥–¥–µ —Ä–∞–∑–Ω–∏—Ü–∞ –≤ —Å–∏–ª–µ –∫–æ–º–∞–Ω–¥ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1.5 –±–∞–ª–ª–∞.\n\n`;

    message1 += `<b>‚öñÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞:</b>\n\n`;

    message1 += `<b>1. Snake Draft:</b>\n`;
    message1 += `‚Ä¢ –ò–≥—Ä–æ–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É\n`;
    message1 += `‚Ä¢ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: 1‚ÜíA, 2‚ÜíB, 3‚ÜíB, 4‚ÜíA...\n`;
    message1 += `‚Ä¢ –†–∞–≤–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∏–ª—å–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤\n\n`;

    message1 += `<b>2. –°—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:</b>\n`;
    message1 += `‚Ä¢ –î–æ 500 —Å–ª—É—á–∞–π–Ω—ã—Ö –æ–±–º–µ–Ω–æ–≤ –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏\n`;
    message1 += `‚Ä¢ –ö–∞–∂–¥—ã–π –æ–±–º–µ–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ —É–ª—É—á—à–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞\n`;
    message1 += `‚Ä¢ –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –ø–æ–∫–∞ —Ä–∞–∑–Ω–∏—Ü–∞ –Ω–µ —Å—Ç–∞–Ω–µ—Ç –º–µ–Ω—å—à–µ 1.5 –±–∞–ª–ª–∞\n\n`;

    message1 += `<b>üìà –°—Ö–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞:</b>\n`;

    message1 += `<b>üß† TrueSkill:</b> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º\n`;
    message1 += `‚Ä¢ Œº (–º—é) - —Å—Ä–µ–¥–Ω–∏–π –Ω–∞–≤—ã–∫ –∏–≥—Ä–æ–∫–∞\n`;
    message1 += `‚Ä¢ œÉ (—Å–∏–≥–º–∞) - –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç—å —Ä–µ–π—Ç–∏–Ω–≥–∞\n`;
    message1 += `‚Ä¢ –†–µ–π—Ç–∏–Ω–≥ = Œº - 3œÉ (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞)\n\n`;

    message1 += `<b>üÜï –ù–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:</b>\n`;
    message1 += `‚è∞ <b>–ò–Ω—Ñ–ª—è—Ü–∏—è –ø—Ä–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:</b> œÉ —Ä–∞—Å—Ç–µ—Ç —É –¥–∞–≤–Ω–æ –Ω–µ –∏–≥—Ä–∞–≤—à–∏—Ö\n`;
    message1 += `‚≠ê <b>MVP –±–æ–Ω—É—Å—ã:</b> –ª—É—á—à–∏–µ –∏–≥—Ä–æ–∫–∏ –ø–æ–ª—É—á–∞—é—Ç +0.6 –∫ Œº\n`;
    message1 += `üìä <b>–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:</b> –ø–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –∞–ø–¥–µ–π—Ç–æ–≤`;

    await safeEditOrReply(ctx, message1, {
      parse_mode: 'HTML',
      reply_markup: {
        inline_keyboard: [
          [{ text: 'üìã –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ TrueSkill', callback_data: 'trueskill_details' }],
          [{ text: 'üìä –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏', callback_data: 'rating_settings' }],
          [{ text: 'üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∏–≥—Ä–µ', callback_data: 'refresh_info' }],
          [{ text: '‚ùé –ó–∞–∫—Ä—ã—Ç—å', callback_data: 'close_menu' }],
        ],
      },
    });

  } catch (error) {
    console.error('Error in rating info command:', error);
    await ctx.reply('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∫–∞–∑–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–π—Ç–∏–Ω–≥–∞—Ö.');
  }
};